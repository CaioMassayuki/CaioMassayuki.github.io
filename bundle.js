!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);a(1),a(2),a(3),a(4),a(5),a(6),a(7),a(8),a(9);const n=document.getElementById("profileName"),o=document.getElementById("profilePlayer"),l=document.getElementById("profileRace"),u=document.getElementById("profileOrigin"),r=document.getElementById("profileClass"),d=document.getElementById("profileEtc"),c=document.getElementById("attribute_for"),m=document.getElementById("attribute_des"),i=document.getElementById("attribute_con"),s=document.getElementById("attribute_int"),v=document.getElementById("attribute_sab"),p=document.getElementById("attribute_car"),f=document.getElementById("modifier_for"),y=document.getElementById("modifier_des"),E=document.getElementById("modifier_con"),_=document.getElementById("modifier_int"),g=document.getElementById("modifier_sab"),I=document.getElementById("modifier_car"),B=document.getElementById("status_maxhp"),h=document.getElementById("status_hp"),x=document.getElementById("status_maxmana"),k=document.getElementById("status_mana"),S=document.getElementById("armor_name_1"),C=document.getElementById("armor_name_2"),b=document.getElementById("armor_defence_1"),N=document.getElementById("armor_defence_2"),O=document.getElementById("armor_penalty_1"),D=document.getElementById("armor_penalty_2"),A=document.getElementById("defence_value"),M=document.getElementById("defence_des_mod"),T=document.getElementById("defence_armor"),R=document.getElementById("defence_shield"),w=document.getElementById("defence_others"),j=document.getElementById("attacks_container"),P=document.getElementById("attack_add"),q=document.getElementById("expertise_container"),F=document.getElementById("skills_values"),L=document.getElementById("equipment_0"),$=document.getElementById("equipment_1"),V=document.getElementById("equipment_2"),J=document.getElementById("equipment_3"),H=document.getElementById("money_TS"),z=document.getElementById("money_TO"),G=[c,m,i,s,v,p,f,y,E,_,g,I,B,h,x,k,b,N,O,D,A,M,T,R,w,H,z],K={0:"Acrobacia *",1:"Adestramento",2:"Atletismo",3:"Atuação",4:"Cavalgar",5:"Conhecimento #",6:"Cura",7:"Diplomacia",8:"Enganação",9:"Fortitude",10:"Furtividade *",11:"Guerra #",12:"Iniciativa",13:"Intimidação",14:"Intuição",15:"Investigação",16:"Jogatina",17:"Ladinagem *#",18:"Luta",19:"Misticismo #",20:"Navegação #",21:"Nobreza #",22:"Ofício",23:"Ofício",24:"Percepção",25:"Pontaria",26:"Reflexos",27:"Religião #",28:"Sobrevivência",29:"Vontade"},U={0:"DES",1:"CAR",2:"FOR",3:"CAR",4:"DES",5:"INT",6:"SAB",7:"CAR",8:"CAR",9:"CON",10:"DES",11:"INT",12:"DES",13:"CAR",14:"SAB",15:"INT",16:"CAR",17:"DES",18:"FOR",19:"INT",20:"SAB",21:"INT",22:"INT",23:"INT",24:"SAB",25:"DES",26:"DES",27:"SAB",28:"SAB",29:"SAB"};function Q(e){const t=["attack_name","attack_bonus","attack_damage","attack_critical","attack_type","attack_range"],a=["attackName","attackBonus","attackDamage","attackCritical","attackType","attackRange"],n=j.getElementsByClassName("attacks_row");if(e)[...n].forEach(e=>j.removeChild(e)),e.forEach((e,n)=>{const o=document.createElement("div");o.className="attacks_row",t.forEach((t,l)=>{const u=document.createElement("input");u.id=`${t}_${n}`,u.value=e[a[l]]||"",o.appendChild(u)}),j.appendChild(o)});else{const e=document.createElement("div");e.className="attacks_row",t.forEach(t=>{const a=document.createElement("input");a.id=`${t}_${n.length}`,e.appendChild(a)}),j.appendChild(e)}}function W(e){n.value=e.profileName,o.value=e.profilePlayer,l.value=e.profileRace,u.value=e.profileOrigin,r.value=e.profileClass,d.value=e.profileEtc,c.value=e.attFor,m.value=e.attDes,i.value=e.attCon,s.value=e.attInt,v.value=e.attSab,p.value=e.attCar,f.value=e.modFor,y.value=e.modDes,E.value=e.modCon,_.value=e.modInt,g.value=e.modSab,I.value=e.modCar,B.value=e.statusMaxHp,h.value=e.statusHp,x.value=e.statusMaxMana,k.value=e.statusMana,S.value=e.armorName1,C.value=e.armorName2,b.value=e.armorDefence1,N.value=e.armorDefence2,O.value=e.armorPenalty1,D.value=e.armorPenalty2,A.value=e.defenceValue,M.value=e.defenceDesMod,T.value=e.defenceArmor,R.value=e.defenceShield,w.value=e.defenceOthers,e.attacks.length>0&&Q(e.attacks),e.expertises&&function(e){const t=["expertise_total","expertise_lvl","expertise_mod","expertise_train","expertise_others"],a=["expertiseTotal","expertiseLvl","expertiseMod","expertiseTrain","expertiseOthers"];Object.keys(K).forEach(n=>{t.forEach((t,o)=>{K[n]===e[n].expertiseName&&(document.getElementById(`${t}_${n}`).value=e[n][a[o]]||"")})})}(e.expertises),F.value=e.skillsValues,L.value=e.equipment1,$.value=e.equipment2,V.value=e.equipment3,J.value=e.equipment4,H.value=e.tsMoney,z.value=e.toMoney}function X(){return{profileName:n.value,profilePlayer:o.value,profileRace:l.value,profileOrigin:u.value,profileClass:r.value,profileEtc:d.value,attFor:c.value,attDes:m.value,attCon:i.value,attInt:s.value,attSab:v.value,attCar:p.value,modFor:f.value,modDes:y.value,modCon:E.value,modInt:_.value,modSab:g.value,modCar:I.value,statusMaxHp:B.value,statusHp:h.value,statusMaxMana:x.value,statusMana:k.value,armorName1:S.value,armorName2:C.value,armorDefence1:b.value,armorDefence2:N.value,armorPenalty1:O.value,armorPenalty2:D.value,defenceValue:A.value,defenceDesMod:M.value,defenceArmor:T.value,defenceShield:R.value,defenceOthers:w.value,attacks:[...j.getElementsByClassName("attacks_row")].filter((e,t)=>""!==document.getElementById("attack_name_"+t).value).map((e,t)=>({attackName:document.getElementById("attack_name_"+t).value,attackBonus:document.getElementById("attack_bonus_"+t).value,attackDamage:document.getElementById("attack_damage_"+t).value,attackCritical:document.getElementById("attack_critical_"+t).value,attackType:document.getElementById("attack_type_"+t).value,attackRange:document.getElementById("attack_range_"+t).value})),expertises:Object.values(K).map((e,t)=>{const a=document.getElementById("expertise_total_"+t),n=document.getElementById("expertise_lvl_"+t),o=document.getElementById("expertise_mod_"+t),l=document.getElementById("expertise_train_"+t),u=document.getElementById("expertise_others_"+t);return{expertiseName:e,expertiseTotal:a.value,expertiseLvl:n.value,expertiseMod:o.value,expertiseTrain:l.value,expertiseOthers:u.value}}),skillsValues:F.value,equipment1:L.value,equipment2:$.value,equipment3:V.value,equipment4:J.value,tsMoney:H.value,toMoney:z.value}}window.addEventListener("load",()=>{G.forEach(e=>{var t,a;t=e,a=function(e){return/^-?\d*$/.test(e)},["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(e){t.addEventListener(e,(function(){a(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))}))}),function(){const e=["expertise_lvl","expertise_mod","expertise_train","expertise_others"];Object.values(K).forEach((t,a)=>{const n=document.createElement("div");n.className="expertise_row";const o=document.createElement("p");o.textContent=t,n.appendChild(o);const l=document.createElement("input");l.className="expertise_total",l.id="expertise_total_"+a,n.appendChild(l);const u=document.createElement("b");u.textContent="=",n.appendChild(u),e.forEach(e=>{const t=document.createElement("input");t.id=`${e}_${a}`,"expertise_mod"===e&&(t.placeholder=U[a]),n.appendChild(t)}),q.appendChild(n)})}(),P.addEventListener("click",e=>{e.preventDefault(),Q()});const e=JSON.parse(localStorage.getItem("sheet-data"));e&&W(e),document.getElementById("importButton").addEventListener("click",e=>{e.preventDefault(),document.getElementById("jsonData").addEventListener("change",()=>{const e=document.getElementById("jsonData").files;if(e.length<=0)return!1;const t=new FileReader;t.onload=function(e){W(JSON.parse(e.target.result))},t.readAsText(e.item(0))}),document.getElementById("jsonData").click()}),setInterval(()=>{localStorage.setItem("sheet-data",JSON.stringify(X()))},5e3)}),window.addEventListener("keydown",e=>{if(e.ctrlKey&&83===e.keyCode){e.preventDefault();var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(X())),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","Tormenta 20 - Ficha - "+X().profileName+".json"),document.body.appendChild(a),a.click(),a.remove()}})},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){}]);